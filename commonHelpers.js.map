{"version":3,"file":"commonHelpers.js","sources":["../src/img/icon-error.svg","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__eb775c6f__\"","import axios from 'axios';\n\nimport { refs, querySearch } from '../main';\n\nexport function getSearch() {\n  const ApiKey = '43688767-8e78f2c96043da1155d4d6687';\n  const searchParams = new URLSearchParams({\n    key: ApiKey,\n    q: querySearch,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        id,\n        tags,\n        largeImageURL,\n        webformatURL,\n        comments,\n        likes,\n        downloads,\n        views,\n      }) =>\n        `<li class=\"gallery-item\" id=\"${id}\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${webformatURL}\"\n                    alt=\"${tags}\"\n                    />               \n            </a>\n            <ul class=\"gallery-stat-list\">\n                    <li class=\"stat-item\"><h2 class=\"title\">Likes</h2><p class=\"stat-data\">${likes}</p></li>\n                    <li class=\"stat-item\"><h2 class=\"title\">Views</h2><p class=\"stat-data\">${views}</p></li>\n                    <li class=\"stat-item\"><h2 class=\"title\">Comments</h2><p class=\"stat-data\">${comments}</p></li>\n                    <li class=\"stat-item\"><h2 class=\"title\">Downloads</h2><p class=\"stat-data\">${downloads}</p></li>\n            </ul>\n            \n        </li>`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iconError from './img/icon-error.svg';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getSearch } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nexport const refs = {\n  form: document.querySelector('.task-form'),\n  input: document.querySelector('.form-input'),\n  list: document.querySelector('.gallery'),\n};\n\nexport let querySearch = null;\n\nrefs.form.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const inputValue = refs.input.value;\n\n  if (!inputValue) {\n    refs.list.innerHTML = '';\n    iziToast.error({\n      ...iziOptions,\n      message: `Please enter your search query, the field cannot be blank!`,\n      backgroundColor: 'rgb(239, 64, 64)',\n      iconUrl: iconError,\n    });\n    return;\n  }\n\n  querySearch = inputValue;\n  refs.list.innerHTML = `<span class=\"loader\"></span>`;\n  getSearch()\n    .then(data => {\n      if (!data.hits.length) {\n        refs.list.innerHTML = '';\n        iziToast.error({\n          ...iziOptions,\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          backgroundColor: 'rgb(239, 64, 64)',\n          iconUrl: iconError,\n        });\n        return;\n      }\n      refs.list.innerHTML = createMarkup(data.hits);\n      lightbox.refresh();\n    })\n    .catch(error => console.log('catch', error));\n  refs.form.reset();\n}\n\nconst iziOptions = {\n  id: 'myIziToast',\n  title: 'Error',\n  titleColor: 'rgb(255, 255, 255)',\n  titleSize: '16',\n  messageColor: 'rgb(255, 255, 255)',\n  messageSize: '16',\n  position: 'topRight',\n};\n\nconst lightbox = new SimpleLightbox('.gallery-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["iconError","getSearch","ApiKey","searchParams","querySearch","response","createMarkup","arr","id","tags","largeImageURL","webformatURL","comments","likes","downloads","views","refs","onSubmit","event","inputValue","iziToast","iziOptions","data","lightbox","error","SimpleLightbox"],"mappings":"6vBAAA,MAAeA,EAAA,gDCIR,SAASC,GAAY,CAC1B,MAAMC,EAAS,qCACTC,EAAe,IAAI,gBAAgB,CACvC,IAAKD,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BD,CAAY,EAAE,EAAE,KAAKE,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCpBO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,GAAAC,EACA,KAAAC,EACA,cAAAC,EACA,aAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,EACA,MAAAC,CACD,IACC,gCAAgCP,CAAE;AAAA,4CACEE,CAAa;AAAA;AAAA;AAAA,2BAG9BC,CAAY;AAAA,2BACZF,CAAI;AAAA;AAAA;AAAA;AAAA,6FAI8DI,CAAK;AAAA,6FACLE,CAAK;AAAA,gGACFH,CAAQ;AAAA,iGACPE,CAAS;AAAA;AAAA;AAAA,cAIrG,EACA,KAAK,EAAE,CACZ,CCrBO,MAAME,EAAO,CAClB,KAAM,SAAS,cAAc,YAAY,EACzC,MAAO,SAAS,cAAc,aAAa,EAC3C,KAAM,SAAS,cAAc,UAAU,CACzC,EAEO,IAAIZ,EAAc,KAEzBY,EAAK,KAAK,iBAAiB,SAAUC,CAAQ,EAE7C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAaH,EAAK,MAAM,MAE9B,GAAI,CAACG,EAAY,CACfH,EAAK,KAAK,UAAY,GACtBI,EAAS,MAAM,CACb,GAAGC,EACH,QAAS,6DACT,gBAAiB,mBACjB,QAASrB,CACf,CAAK,EACD,MACD,CAEDI,EAAce,EACdH,EAAK,KAAK,UAAY,+BACtBf,EAAW,EACR,KAAKqB,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBN,EAAK,KAAK,UAAY,GACtBI,EAAS,MAAM,CACb,GAAGC,EACH,QAAS,2EACT,gBAAiB,mBACjB,QAASrB,CACnB,CAAS,EACD,MACD,CACDgB,EAAK,KAAK,UAAYV,EAAagB,EAAK,IAAI,EAC5CC,EAAS,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAI,QAASA,CAAK,CAAC,EAC7CR,EAAK,KAAK,OACZ,CAEA,MAAMK,EAAa,CACjB,GAAI,aACJ,MAAO,QACP,WAAY,qBACZ,UAAW,KACX,aAAc,qBACd,YAAa,KACb,SAAU,UACZ,EAEME,EAAW,IAAIE,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,GAChB,CAAC"}